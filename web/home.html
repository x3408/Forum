<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>健身首页</title>
	<link rel="stylesheet" href="css/mainPage.css" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<link rel="stylesheet" type="text/css" href="css/waterfall.css" />

</head>

<body>
<div class="header">
	<div class="header-content">
		<div class="logo">
			<a href=""><img src="img/logo.png"></a>
		</div>
		<div class="search" id="search-form">
			<form>
				<input type="text" class="search-text" id="search-input" /><button><i class="icon-search"></i></button>
			</form>
		</div>
	</div>
</div>
</div>
<div class="main">
	<div class="nav">
		<ul class="nav-content">
			<li class="nav-content-detail">
				<a href="">健身</a>
			</li>
			<li class="nav-content-detail">
				<a href="">减肥</a>
			</li>
			<li class="nav-content-detail">
				<a href="">核心训练</a>
			</li>
			<li class="nav-content-detail">
				<a href="">球类运动</a>
			</li>
			<li class="nav-content-detail">
				<a href="">瑜伽</a>
			</li>
			<li class="nav-content-detail">
				<a href="">健美</a>
			</li>
			<li class="nav-content-detail">
				<a href="">肩部训练</a>
			</li>
			<li class="nav-content-detail">
				<a href="">精彩赛事</a>
			</li>
			<li class="nav-content-detail">
				<a href="">腕力运动</a>
			</li>
			<li class="nav-content-detail">
				<a href="">健身日记</a>
			</li>
			<li class="nav-content-detail">
				<a href="">精彩推荐</a>
			</li>
		</ul>
	</div>
	<div class="contain">
		<div id="banner">
			<div id="list" style="left:-723px">
				<img src="img/4.jpg">
				<img src="img/1.jpg">
				<img src="img/2.png">
				<img src="img/3.jpg">
				<img src="img/4.jpg">
				<img src="img/1.jpg">
			</div>
			<div id="buttons">
				<span index="1" class="on"></span>
				<span index="2"></span>
				<span index="3"></span>
				<span index="4"></span>
			</div>
			<a href="javascript:;" class="arrow" id="prev">&lt;</a>
			<a href="javascript:;" class="arrow" id="next">&gt;</a>
		</div>
		<div class="new-recommand"></div>

		<div class="contain" id="main">

		</div>

	</div>
	<div class="otherNews">
		<div class="recommand">
			<div class="recommand-today">今日推荐</div>
			<ul>
				<li>
					<a href="">
						<div id="img-one" class="img"></div>
						<div id="text-one" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>

						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div id="img-two" class="img"></div>
						<div id="text-two" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div id="img-three" class="img"></div>
						<div id="text-three" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div id="img-four" class="img"></div>
						<div id="text-four" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div id="img-five" class="img"></div>
						<div id="text-five" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div id="img-six" class="img"></div>
						<div id="text-six" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div id="img-seven" class="img"></div>
						<div id="text-seven" class="atext">
							<span class="strongText"></span>
							<span class="detailText"></span>
						</div>
					</a>
				</li>
			</ul>
		</div>
		<div class="advertisePic"></div>
		<div class="competition"></div>
	</div>
</div>
<script type="text/javascript" src="js/waterfall.js"></script>
<script type="text/javascript" src="js/mainPage.js"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>

<script type="text/javascript">
    var i = 0;
    window.onload = function updataData() {
        $.get("new_file.json", {
            //						page:page+1,type:type
        }, function(data) {
            var j = 1;
            while(j <= 4) {
                var timer = data[i].time.year + "年" + data[i].time.month + "月" + data[i].time.day + "日" + data[i].time.hours + "时" + data[i].time.minutes + "分";
                $("#main").append('<div class="box"><div class="topicFrom"><span class="userid" id="userid"> 来自话题：' + data[i].descriptive + '</span><span class="date" id="date">' + timer + '</span><span class="viewCount" id="viewCount">阅读量： ' + data[i].viewCount + '</span></div><div class="name"><div class="myPic" id="myPic"><img src="" /></div><div class="username" id="username">' + data[i + 3].username + '</div></div><div class="context"><h6 class="title" id="title">' + data[i].title + '</h6><p class="text" id="text">' + data[i].content + '</p></div><div class="other-follow "><i class="icon-star-empty" id="follow"></i><span class="like-text">关注</span></div><div class="other-like "><i class="icon-heart2" id="like"></i><span class="like-text">点赞</span></div></div>');
                j++;
                i++;
                var like = document.getElementsByClassName('icon-heart2');
                for(var n = 0; n < like.length; n++) {
                    like[n].onclick = function() {
                        if(this.style.color == 'red') {
                            this.style.color = 'gray';
                        } else {
                            this.style.color = 'red';
                        }
                    }

                    var follow = document.getElementsByClassName('icon-star-empty');
                    for(var m = 0; m < follow.length; m++) {
                        follow[m].onclick = function() {
                            if(this.style.color == 'red') {
                                this.style.color = 'gray';
                            } else {
                                this.style.color = 'red';
                            }
                        };
                    }
                }
            }
        });

    }
    $(window).scroll(function() {
        var scrollTop = $(this).scrollTop(); //滚动条距离顶部的高度
        var scrollHeight = $(document).height(); //当前页面的总高度
        var clientHeight = $(this).height(); //当前可视的页面高度

        if(scrollTop + clientHeight >= scrollHeight) { //距离顶部+当前高度 >=文档总高度 即代表滑动到底部 count++;         //每次滑动count加1
            // 							filterData(serviceTypeId,industryId,cityId,count); //调用筛选方法，count为当前分页数

        } else if(scrollTop <= 0) {
            //滚动条距离顶部的高度小于等于0
            updataData();
        }
    });
</script>
</body>

</html>